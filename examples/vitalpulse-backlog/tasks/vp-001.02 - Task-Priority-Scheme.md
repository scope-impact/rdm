---
id: vp-001.02
title: "Task Priority Scheme and Scheduling"
status: Done
assignee: []
created_date: '2026-01-18'
updated_date: '2026-01-18'
labels:
  - vp-001.02
  - firmware
  - rtos
  - scheduling
dependencies:
  - vp-001.01
parent_task_id: vp-001
ordinal: 2000
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
As a **Firmware engineer**, I want to **define a task priority scheme** so that I can **ensure safety-critical tasks always preempt less critical ones**.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria

<!-- AC:BEGIN -->
- [ ] #1 Priority levels defined: Critical (alarm), High (sensor), Medium (display), Low (logging)
- [ ] #2 Alarm task runs at highest priority (configMAX_PRIORITIES - 1)
- [ ] #3 Sensor acquisition tasks run at high priority
- [ ] #4 Priority inversion protection via mutex inheritance
- [ ] #5 Idle task performs low-power entry when no work pending
- [ ] #6 Task priority documented in design specification
<!-- AC:END -->

## Implementation Notes

<!-- SECTION:NOTES:BEGIN -->
- **Priority Scheme:**
  - Priority 7: Alarm handler (ISR-deferred)
  - Priority 6: Watchdog supervisor
  - Priority 5: ECG/SpO2 acquisition
  - Priority 4: Signal processing
  - Priority 3: Display update
  - Priority 2: Logging/communication
  - Priority 1: Background tasks
  - Priority 0: Idle (low-power)
- **Why:** IEC 62304 requires deterministic response to safety conditions
- **Dependencies:** vp-001.01 (kernel must be configured first)
<!-- SECTION:NOTES:END -->
